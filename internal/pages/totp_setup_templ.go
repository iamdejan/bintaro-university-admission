// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.906
package pages

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

type TOTPSetupProps struct {
	QRCodeImageBase64 string
	SecretBase32      string
}

func TOTPSetup(props TOTPSetupProps) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<!doctype html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>Bintaro University Admission - Enable 2FA</title><style>\n\t\t\t\t* {\n\t\t\t\t\tmargin: 0;\n\t\t\t\t\tpadding: 0;\n\t\t\t\t\tbox-sizing: border-box;\n\t\t\t\t}\n\n\t\t\t\tbody {\n\t\t\t\t\tfont-family: \"Segoe UI\", Tahoma, Geneva, Verdana, sans-serif;\n\t\t\t\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\t\t\t\tmin-height: 100vh;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t}\n\n\t\t\t\t.navbar {\n\t\t\t\t\tbackground: rgba(255, 255, 255, 0.1);\n\t\t\t\t\tbackdrop-filter: blur(10px);\n\t\t\t\t\tpadding: 1rem 2rem;\n\t\t\t\t\tbox-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);\n\t\t\t\t\tborder-bottom: 1px solid rgba(255, 255, 255, 0.2);\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tposition: relative;\n\t\t\t\t}\n\n\t\t\t\t.navbar h1 {\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tfont-size: 1.5rem;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tletter-spacing: 0.5px;\n\t\t\t\t\ttext-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n\t\t\t\t}\n\n\t\t\t\t.back-btn {\n\t\t\t\t\tbackground: rgba(255, 255, 255, 0.2);\n\t\t\t\t\tborder: 1px solid rgba(255, 255, 255, 0.3);\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tpadding: 0.5rem 1rem;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\tfont-weight: 500;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\t\ttext-decoration: none;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tgap: 0.5rem;\n\t\t\t\t}\n\n\t\t\t\t.back-btn:hover {\n\t\t\t\t\tbackground: rgba(255, 255, 255, 0.3);\n\t\t\t\t\ttransform: translateY(-1px);\n\t\t\t\t}\n\n\t\t\t\t.main-content {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\talign-items: flex-start;\n\t\t\t\t}\n\n\t\t\t\t.setup-container {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmax-width: 600px;\n\t\t\t\t}\n\n\t\t\t\t.setup-card {\n\t\t\t\t\tbackground: rgba(255, 255, 255, 0.95);\n\t\t\t\t\tbackdrop-filter: blur(10px);\n\t\t\t\t\tborder: 1px solid rgba(255, 255, 255, 0.3);\n\t\t\t\t\tborder-radius: 20px;\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\tbox-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n\t\t\t\t\tanimation: fadeInUp 0.6s ease-out;\n\t\t\t\t}\n\n\t\t\t\t@keyframes fadeInUp {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t\ttransform: translateY(30px);\n\t\t\t\t\t}\n\t\t\t\t\tto {\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\ttransform: translateY(0);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.setup-header {\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tmargin-bottom: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.setup-header h2 {\n\t\t\t\t\tcolor: #333;\n\t\t\t\t\tfont-size: 2rem;\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t}\n\n\t\t\t\t.setup-header p {\n\t\t\t\t\tcolor: #666;\n\t\t\t\t\tfont-size: 1.1rem;\n\t\t\t\t\tline-height: 1.6;\n\t\t\t\t}\n\n\t\t\t\t.setup-steps {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\tgap: 2rem;\n\t\t\t\t}\n\n\t\t\t\t.step {\n\t\t\t\t\tpadding: 1.5rem;\n\t\t\t\t\tbackground: rgba(102, 126, 234, 0.05);\n\t\t\t\t\tborder: 1px solid rgba(102, 126, 234, 0.2);\n\t\t\t\t\tborder-radius: 16px;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t}\n\n\t\t\t\t.step::before {\n\t\t\t\t\tcontent: \"\";\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\twidth: 4px;\n\t\t\t\t\theight: 100%;\n\t\t\t\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\t\t\t}\n\n\t\t\t\t.step-number {\n\t\t\t\t\tdisplay: inline-flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\twidth: 30px;\n\t\t\t\t\theight: 30px;\n\t\t\t\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.step-title {\n\t\t\t\t\tcolor: #333;\n\t\t\t\t\tfont-size: 1.2rem;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tmargin-bottom: 1rem;\n\t\t\t\t}\n\n\t\t\t\t.step-content {\n\t\t\t\t\tcolor: #666;\n\t\t\t\t\tline-height: 1.6;\n\t\t\t\t}\n\n\t\t\t\t.qr-container {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tpadding: 2rem;\n\t\t\t\t\tbackground: white;\n\t\t\t\t\tborder-radius: 12px;\n\t\t\t\t\tmargin: 1rem 0;\n\t\t\t\t\tbox-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.qr-code {\n\t\t\t\t\twidth: 200px;\n\t\t\t\t\theight: 200px;\n\t\t\t\t\tbackground: #f0f0f0;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\tcolor: #666;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tbackground-size: contain;\n\t\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\t\tbackground-position: center;\n\t\t\t\t}\n\n\t\t\t\t.secret-key {\n\t\t\t\t\tbackground: white;\n\t\t\t\t\tborder: 2px solid #e0e0e0;\n\t\t\t\t\tborder-radius: 12px;\n\t\t\t\t\tpadding: 1rem;\n\t\t\t\t\tmargin: 1rem 0;\n\t\t\t\t\tfont-family: \"Courier New\", monospace;\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tword-break: break-all;\n\t\t\t\t\tposition: relative;\n\t\t\t\t}\n\n\t\t\t\t.copy-btn {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tright: 0.5rem;\n\t\t\t\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tpadding: 0.3rem 0.6rem;\n\t\t\t\t\tborder-radius: 6px;\n\t\t\t\t\tfont-size: 0.8rem;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\t}\n\n\t\t\t\t.copy-btn:hover {\n\t\t\t\t\ttransform: translateY(-1px);\n\t\t\t\t\tbox-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\n\t\t\t\t}\n\n\t\t\t\t.otp-input-group {\n\t\t\t\t\tmargin: 1rem 0;\n\t\t\t\t}\n\n\t\t\t\t.otp-input-group label {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tmargin-bottom: 0.5rem;\n\t\t\t\t}\n\n\t\t\t\t.otp-input {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tpadding: 0.8rem;\n\t\t\t\t\tborder: 2px solid #e0e0e0;\n\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tletter-spacing: 0.5rem;\n\t\t\t\t\tfont-family: \"Courier New\", monospace;\n\t\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\t}\n\n\t\t\t\t.otp-input:focus {\n\t\t\t\t\toutline: none;\n\t\t\t\t\tborder-color: #667eea;\n\t\t\t\t\tbox-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n\t\t\t\t}\n\n\t\t\t\t.verify-btn {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\t\t\t\tcolor: white;\n\t\t\t\t\tborder: none;\n\t\t\t\t\tpadding: 1rem;\n\t\t\t\t\tborder-radius: 12px;\n\t\t\t\t\tfont-size: 1.1rem;\n\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\tcursor: pointer;\n\t\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\t\tmargin-top: 1rem;\n\t\t\t\t\tbox-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);\n\t\t\t\t}\n\n\t\t\t\t.verify-btn:hover {\n\t\t\t\t\ttransform: translateY(-2px);\n\t\t\t\t\tbox-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);\n\t\t\t\t}\n\n\t\t\t\t.verify-btn:active {\n\t\t\t\t\ttransform: translateY(0);\n\t\t\t\t}\n\n\t\t\t\t.verify-btn:disabled {\n\t\t\t\t\topacity: 0.6;\n\t\t\t\t\tcursor: not-allowed;\n\t\t\t\t\ttransform: none;\n\t\t\t\t}\n\n\t\t\t\t.warning-note {\n\t\t\t\t\tbackground: rgba(255, 193, 7, 0.1);\n\t\t\t\t\tborder: 1px solid rgba(255, 193, 7, 0.3);\n\t\t\t\t\tborder-radius: 12px;\n\t\t\t\t\tpadding: 1rem;\n\t\t\t\t\tmargin: 1rem 0;\n\t\t\t\t\tcolor: #856404;\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\tline-height: 1.6;\n\t\t\t\t}\n\n\t\t\t\t.warning-note strong {\n\t\t\t\t\tcolor: #495057;\n\t\t\t\t}\n\n\t\t\t\t@media (max-width: 768px) {\n\t\t\t\t\t.navbar {\n\t\t\t\t\t\tpadding: 1rem;\n\t\t\t\t\t}\n\n\t\t\t\t\t.navbar h1 {\n\t\t\t\t\t\tfont-size: 1.2rem;\n\t\t\t\t\t}\n\n\t\t\t\t\t.main-content {\n\t\t\t\t\t\tpadding: 1rem;\n\t\t\t\t\t}\n\n\t\t\t\t\t.setup-card {\n\t\t\t\t\t\tpadding: 1.5rem;\n\t\t\t\t\t}\n\n\t\t\t\t\t.setup-header h2 {\n\t\t\t\t\t\tfont-size: 1.5rem;\n\t\t\t\t\t}\n\n\t\t\t\t\t.qr-code {\n\t\t\t\t\t\twidth: 160px;\n\t\t\t\t\t\theight: 160px;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t</style></head><body><nav class=\"navbar\"><h1>Bintaro University Admission</h1><a class=\"back-btn\" onclick=\"goBack()\">‚Üê Back to Dashboard</a></nav><div class=\"main-content\"><div class=\"setup-container\"><div class=\"setup-card\"><div class=\"setup-header\"><h2>Enable Two-Factor Authentication</h2><p>Secure your account with an additional layer of protection using your mobile device.</p></div><div class=\"setup-steps\"><div class=\"step\"><div class=\"step-number\">1</div><div class=\"step-title\">Install an Authenticator App</div><div class=\"step-content\">Download and install an authenticator app on your mobile device such as Google Authenticator, Microsoft Authenticator, Authy, or KeePassXC.</div></div><div class=\"step\"><div class=\"step-number\">2</div><div class=\"step-title\">Scan the QR Code</div><div class=\"step-content\">Open your authenticator app and scan the QR code below to add your Bintaro University account.<div class=\"qr-container\"><div class=\"qr-code\" style=\"")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templruntime.SanitizeStyleAttributeValues("background-image: url(" + props.QRCodeImageBase64 + ")")
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/pages/totp_setup.templ`, Line: 363, Col: 95}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, "\" id=\"qrCode\"></div></div></div></div><div class=\"step\"><div class=\"step-number\">3</div><div class=\"step-title\">Manual Entry (Alternative)</div><div class=\"step-content\">If you can't scan the QR code, you can manually enter this secret key into your authenticator app:<div class=\"secret-key\"><button class=\"copy-btn\" onclick=\"copySecret()\">Copy</button><div id=\"secretKey\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var3 string
		templ_7745c5c3_Var3, templ_7745c5c3_Err = templ.JoinStringErrs(props.SecretBase32)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/pages/totp_setup.templ`, Line: 374, Col: 50}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var3))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, "</div></div><div class=\"warning-note\"><strong>Important:</strong> Keep this secret key secure and don't share it with anyone. You'll need it to recover your 2FA if you lose access to your authenticator app.</div></div></div><div class=\"step\"><div class=\"step-number\">4</div><div class=\"step-title\">Verify Setup</div><div class=\"step-content\">Enter the 6-digit code from your authenticator app to complete the setup:<div class=\"otp-input-group\"><label for=\"otpCode\">Authentication Code</label> <input type=\"text\" id=\"otpCode\" class=\"otp-input\" maxlength=\"6\" placeholder=\"000000\" onkeyup=\"validateOTP()\"></div><button class=\"verify-btn\" id=\"verifyBtn\" onclick=\"verifyOTP()\" disabled>Verify & Enable 2FA</button></div></div></div></div></div></div><script>\n\t\t\t\tfunction goBack() {\n\t\t\t\t\tif (confirm(\"Are you sure you want to go back? Your 2FA setup will not be saved.\")) {\n\t\t\t\t\t\tfetch(\"/totp-setup\", {\n\t\t\t\t\t\t\tmethod: \"DELETE\",\n\t\t\t\t\t\t\tredirect: \"follow\"\n\t\t\t\t\t\t}).then((response) => {\n\t\t\t\t\t\t\twindow.location.href = response.url;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction copySecret() {\n\t\t\t\t\tconst secretKey = document.getElementById(\"secretKey\").textContent;\n\t\t\t\t\tnavigator.clipboard\n\t\t\t\t\t\t.writeText(secretKey)\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tconst copyBtn = document.querySelector(\".copy-btn\");\n\t\t\t\t\t\t\tconst originalText = copyBtn.textContent;\n\t\t\t\t\t\t\tcopyBtn.textContent = \"Copied!\";\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tcopyBtn.textContent = originalText;\n\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\t\talert(\"Failed to copy secret key. Please copy it manually.\");\n\t\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tfunction validateOTP() {\n\t\t\t\t\tconst otpInput = document.getElementById(\"otpCode\");\n\t\t\t\t\tconst verifyBtn = document.getElementById(\"verifyBtn\");\n\t\t\t\t\tconst otpValue = otpInput.value;\n\n\t\t\t\t\t// Remove any non-digit characters\n\t\t\t\t\tconst cleanOTP = otpValue.replace(/\\D/g, \"\");\n\t\t\t\t\tif (cleanOTP !== otpValue) {\n\t\t\t\t\t\totpInput.value = cleanOTP;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Enable verify button if OTP is 6 digits\n\t\t\t\t\tif (cleanOTP.length === 6) {\n\t\t\t\t\t\tverifyBtn.disabled = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tverifyBtn.disabled = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction verifyOTP() {\n\t\t\t\t\tconst otpCode = document.getElementById(\"otpCode\").value;\n\t\t\t\t\tconst verifyBtn = document.getElementById(\"verifyBtn\");\n\n\t\t\t\t\tif (otpCode.length !== 6) {\n\t\t\t\t\t\talert(\"Please enter a 6-digit authentication code.\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Disable button and show loading state\n\t\t\t\t\tverifyBtn.disabled = true;\n\t\t\t\t\tverifyBtn.textContent = \"Verifying...\";\n\n\t\t\t\t\tconst body = new URLSearchParams();\n\t\t\t\t\tbody.set(\"otp_token\", otpCode);\n\t\t\t\t\tfetch(\"/totp-setup\", {\n\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\tbody: body,\n\n\t\t\t\t\t}).then((response) => {\n\t\t\t\t\t\twindow.location.href = response.url;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Handle Enter key press in OTP input\n\t\t\t\tdocument.getElementById(\"otpCode\").addEventListener(\"keypress\", function (e) {\n\t\t\t\t\tif (e.key === \"Enter\" && !document.getElementById(\"verifyBtn\").disabled) {\n\t\t\t\t\t\tverifyOTP();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Auto-focus on OTP input when page loads\n\t\t\t\twindow.addEventListener(\"load\", function () {\n\t\t\t\t\tdocument.getElementById(\"otpCode\").focus();\n\t\t\t\t});\n\t\t\t</script></body></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
